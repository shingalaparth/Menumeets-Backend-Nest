import { JwtService } from '@nestjs/jwt';
import { ShopService } from '../../shop/application/shop.service';
import { OrderService } from '../../order/application/order.service';
import { TableService } from '../../table/application/table.service';
import { InvoiceService } from '../../invoice/application/invoice.service';
import { PrismaService } from '../../../infrastructure/database/prisma.service';
import { EventsService } from '../../../shared/services/events.service';
export declare class CaptainService {
    private shopService;
    private orderService;
    private tableService;
    private jwtService;
    private invoiceService;
    private prisma;
    private events;
    constructor(shopService: ShopService, orderService: OrderService, tableService: TableService, jwtService: JwtService, invoiceService: InvoiceService, prisma: PrismaService, events: EventsService);
    login(shopId: string, pin: string): Promise<{
        success: boolean;
        token: string;
        shop: {
            id: string;
            name: string;
            features: any;
            settings: import("../../shop/domain/shop.entity").ShopSettings | null | undefined;
        };
    }>;
    getDashboard(shopId: string): Promise<{
        tables: {
            session: any;
            isOccupied: boolean;
            status: any;
            isMerged: any;
            id: string;
            tableNumber: string;
            section?: string | null;
            type?: string | null;
            screen?: string | null;
            totalRows?: number | null;
            seatsPerRow?: number | null;
            totalCapacity?: number | null;
            rowConfig?: any;
            row?: string | null;
            seat?: string | null;
            shopId?: string | null;
            foodCourtId?: string | null;
            qrIdentifier: string;
            isActive: boolean;
            createdAt: Date;
            updatedAt: Date;
        }[];
        activeSessions: {
            totalAmount: number;
            id: string;
            tableId: string;
            shopId: string;
            additionalTables?: string[] | null;
            status: "ACTIVE" | "PAYMENT_PENDING" | "CLOSED";
            sessionCode: string;
            customerName: string;
            pax: number;
            managedBy: "VENDOR" | "CUSTOMER";
            openedAt: Date;
            closedAt?: Date | null;
            createdAt: Date;
            updatedAt: Date;
        }[];
        waiterCalls: ({
            table: {
                type: string | null;
                id: string;
                createdAt: Date;
                updatedAt: Date;
                shopId: string | null;
                isActive: boolean;
                foodCourtId: string | null;
                qrIdentifier: string;
                tableNumber: string;
                section: string | null;
                screen: string | null;
                totalRows: number | null;
                seatsPerRow: number | null;
                totalCapacity: number | null;
                rowConfig: import("@prisma/client/runtime/library").JsonValue | null;
                row: string | null;
                seat: string | null;
            };
        } & {
            id: string;
            createdAt: Date;
            shopId: string;
            status: string;
            tableId: string;
            sessionId: string | null;
            resolvedBy: string | null;
            resolvedAt: Date | null;
        })[];
    }>;
    startSession(shopId: string, data: any): Promise<import("../../table/domain/table.entity").TableSessionEntity>;
    closeSession(shopId: string, sessionId: string, paymentMethod: string): Promise<{
        message: string;
        invoice: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            status: string;
            items: import("@prisma/client/runtime/library").JsonValue;
            userId: string | null;
            subtotal: number;
            orderId: string | null;
            invoiceNumber: string;
            taxAmount: number;
            grandTotal: number;
        } | null;
    }>;
    getSessionDetails(shopId: string, sessionId: string): Promise<{
        session: import("../../table/domain/table.entity").TableSessionEntity;
        orders: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            shopId: string | null;
            foodCourtId: string | null;
            tableId: string | null;
            userId: string | null;
            shortOrderId: string;
            tableSessionId: string | null;
            parentOrderId: string | null;
            orderType: string;
            orderStatus: string;
            subtotal: number;
            totalAmount: number;
            taxDetails: import("@prisma/client/runtime/library").JsonValue | null;
            paymentMethod: string;
            paymentStatus: string;
            paymentDeadline: Date | null;
            razorpayOrderId: string | null;
            razorpayPaymentId: string | null;
            razorpaySignature: string | null;
            cashfreeOrderId: string | null;
            cashfreePaymentId: string | null;
            isPOS: boolean;
            customerDetails: import("@prisma/client/runtime/library").JsonValue | null;
            seatInfo: import("@prisma/client/runtime/library").JsonValue | null;
            notes: string | null;
            inventoryDeducted: boolean;
            completedAt: Date | null;
        }[];
        totalAmount: number;
        itemCount: number;
    }>;
    getSessionHistory(shopId: string, page?: number, limit?: number): Promise<{
        sessions: import("../../table/domain/table.entity").TableSessionEntity[];
        total: number;
    }>;
    getActiveSessions(shopId: string): Promise<{
        totalAmount: number;
        orderCount: number;
        table: {
            type: string | null;
            id: string;
            createdAt: Date;
            updatedAt: Date;
            shopId: string | null;
            isActive: boolean;
            foodCourtId: string | null;
            qrIdentifier: string;
            tableNumber: string;
            section: string | null;
            screen: string | null;
            totalRows: number | null;
            seatsPerRow: number | null;
            totalCapacity: number | null;
            rowConfig: import("@prisma/client/runtime/library").JsonValue | null;
            row: string | null;
            seat: string | null;
        };
        orders: ({
            items: {
                id: string;
                name: string;
                price: number;
                menuItemId: string;
                quantity: number;
                variant: import("@prisma/client/runtime/library").JsonValue | null;
                addOns: import("@prisma/client/runtime/library").JsonValue | null;
                orderId: string;
            }[];
        } & {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            shopId: string | null;
            foodCourtId: string | null;
            tableId: string | null;
            userId: string | null;
            shortOrderId: string;
            tableSessionId: string | null;
            parentOrderId: string | null;
            orderType: string;
            orderStatus: string;
            subtotal: number;
            totalAmount: number;
            taxDetails: import("@prisma/client/runtime/library").JsonValue | null;
            paymentMethod: string;
            paymentStatus: string;
            paymentDeadline: Date | null;
            razorpayOrderId: string | null;
            razorpayPaymentId: string | null;
            razorpaySignature: string | null;
            cashfreeOrderId: string | null;
            cashfreePaymentId: string | null;
            isPOS: boolean;
            customerDetails: import("@prisma/client/runtime/library").JsonValue | null;
            seatInfo: import("@prisma/client/runtime/library").JsonValue | null;
            notes: string | null;
            inventoryDeducted: boolean;
            completedAt: Date | null;
        })[];
        id: string;
        createdAt: Date;
        updatedAt: Date;
        shopId: string;
        status: string;
        tableId: string;
        additionalTables: import("@prisma/client/runtime/library").JsonValue | null;
        sessionCode: string;
        customerName: string;
        pax: number;
        managedBy: string;
        openedAt: Date;
        closedAt: Date | null;
    }[]>;
    changeTable(shopId: string, sessionId: string, newTableId: string): Promise<import("../../table/domain/table.entity").TableSessionEntity>;
    mergeTables(shopId: string, sessionId: string, tableIds: string[]): Promise<import("../../table/domain/table.entity").TableSessionEntity>;
    callWaiter(shopId: string, tableId: string, sessionId?: string): Promise<{
        message: string;
        call: {
            id: string;
            createdAt: Date;
            shopId: string;
            status: string;
            tableId: string;
            sessionId: string | null;
            resolvedBy: string | null;
            resolvedAt: Date | null;
        };
    }>;
    resolveWaiterCall(shopId: string, callId: string): Promise<{
        message: string;
        call: {
            id: string;
            createdAt: Date;
            shopId: string;
            status: string;
            tableId: string;
            sessionId: string | null;
            resolvedBy: string | null;
            resolvedAt: Date | null;
        };
    }>;
    splitBill(shopId: string, sessionId: string, splits: number): Promise<{
        sessionId: string;
        originalTotal: number;
        originalSubtotal: number;
        originalTax: number;
        splits: {
            splitNumber: number;
            subtotal: number;
            tax: number;
            total: number;
        }[];
        orderCount: number;
        items: any[];
    }>;
    printBill(shopId: string, sessionId: string): Promise<{
        shopName: string;
        shopAddress: string;
        shopPhone: string;
        tableNumber: any;
        sessionCode: string;
        customerName: string;
        pax: number;
        items: any[];
        subtotal: number;
        tax: number;
        total: number;
        orderCount: number;
        openedAt: Date;
        printedAt: Date;
    }>;
    getMenu(shopId: string): Promise<({
        menuItems: {
            id: string;
            name: string;
            createdAt: Date;
            updatedAt: Date;
            shopId: string;
            nameHi: string;
            nameGu: string;
            description: string;
            descriptionHi: string;
            descriptionGu: string;
            sortOrder: number;
            isArchived: boolean;
            archivedAt: Date | null;
            price: number | null;
            categoryId: string;
            sourceGlobalItemId: string | null;
            image: import("@prisma/client/runtime/library").JsonValue | null;
            variants: import("@prisma/client/runtime/library").JsonValue | null;
            addOnGroups: import("@prisma/client/runtime/library").JsonValue | null;
            isAvailable: boolean;
            isVegetarian: boolean;
            isVegan: boolean;
            isFavorite: boolean;
            preparationTime: number;
            spiceLevel: string;
            tags: import("@prisma/client/runtime/library").JsonValue | null;
        }[];
    } & {
        id: string;
        name: string;
        createdAt: Date;
        updatedAt: Date;
        shopId: string;
        isActive: boolean;
        nameHi: string;
        nameGu: string;
        description: string;
        descriptionHi: string;
        descriptionGu: string;
        sourceGlobalCategoryId: string | null;
        sortOrder: number;
        isArchived: boolean;
        archivedAt: Date | null;
    })[]>;
    placeOrder(shopId: string, body: any): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        shopId: string | null;
        foodCourtId: string | null;
        tableId: string | null;
        userId: string | null;
        shortOrderId: string;
        tableSessionId: string | null;
        parentOrderId: string | null;
        orderType: string;
        orderStatus: string;
        subtotal: number;
        totalAmount: number;
        taxDetails: import("@prisma/client/runtime/library").JsonValue | null;
        paymentMethod: string;
        paymentStatus: string;
        paymentDeadline: Date | null;
        razorpayOrderId: string | null;
        razorpayPaymentId: string | null;
        razorpaySignature: string | null;
        cashfreeOrderId: string | null;
        cashfreePaymentId: string | null;
        isPOS: boolean;
        customerDetails: import("@prisma/client/runtime/library").JsonValue | null;
        seatInfo: import("@prisma/client/runtime/library").JsonValue | null;
        notes: string | null;
        inventoryDeducted: boolean;
        completedAt: Date | null;
    }>;
    voidItem(shopId: string, orderId: string, itemId: string, reason?: string): Promise<{
        message: string;
        reason: string | undefined;
    }>;
    modifyOrder(shopId: string, orderId: string, body: any): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        shopId: string | null;
        foodCourtId: string | null;
        tableId: string | null;
        userId: string | null;
        shortOrderId: string;
        tableSessionId: string | null;
        parentOrderId: string | null;
        orderType: string;
        orderStatus: string;
        subtotal: number;
        totalAmount: number;
        taxDetails: import("@prisma/client/runtime/library").JsonValue | null;
        paymentMethod: string;
        paymentStatus: string;
        paymentDeadline: Date | null;
        razorpayOrderId: string | null;
        razorpayPaymentId: string | null;
        razorpaySignature: string | null;
        cashfreeOrderId: string | null;
        cashfreePaymentId: string | null;
        isPOS: boolean;
        customerDetails: import("@prisma/client/runtime/library").JsonValue | null;
        seatInfo: import("@prisma/client/runtime/library").JsonValue | null;
        notes: string | null;
        inventoryDeducted: boolean;
        completedAt: Date | null;
    } | null>;
}
